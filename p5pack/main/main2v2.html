<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>paintLinker</title>
    <script src="../support/p5.min.js"></script>
    <style>
        *{
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-touch-callout:none;  
            -webkit-user-select:none;  
            -khtml-user-select:none;  
            -moz-user-select:none;  
            -ms-user-select:none;  
            user-select:none;  
        }
        body{
            width: 100vw;
            height: 100vh;
            overflow: hidden;
        }
        ::selection{
            background-color: transparent;
        }
    </style>
    <script type="text/javascript">  
        function doNothing(){  
            window.event.returnValue=false;  
            return false;  
        }  
    </script>  
    <script>
        var w_pixel=30;
        var h_pixel=30;
        var saveMode=1;//æ¨¡å¼:0ä¸æˆªå±,1æŒ‰ç…§1ç§’ä¿å­˜,2æŒ‰ç…§ç»˜ç”»ä¿å­˜,3JSON
        var saveRate=10;//å‡ ç§’æˆªä¸€æ¬¡å±

        var colorSet=[];
        var w_count;
        var h_count;
        var img1Count=0;//å‚¨å­˜å›¾ç‰‡åºåˆ—
        var img2Count=0;//å‚¨å­˜å›¾ç‰‡åºåˆ—2

        var jsonCount=0;

        var particleCount=2;
        var particleCountMin=1;
        var particleCountMax=3;

        const G=0.8;

        var particleSystem;

        class VColor{
            constructor(h,s,v,x,y,wd,ht){
                this.h=h;
                this.s=s;
                this.v=v;
                this.x=x;
                this.y=y;
                this.wd=wd;
                this.ht=ht;
                this.t=0;
                this.hspeed=2;
                this.vspeed=5;
                this.fadeoutSpeed=0.005;

                this.hasBeenTouched=false;
            }
            start(){
                if(this.v<=300){
                    this.v+=this.vspeed;
                }else{
                    this.hasBeenTouched=true;
                }
            }
            fadeOut(){
                if(this.v>200){
                    this.hasBeenTouched=false;
                }
                if(this.v>0){
                    this.v-=this.fadeoutSpeed;
                }else{
                    this.v=0;
                }
            }
            change(){
                this.t++;
                if(this.h<300){
                    this.h+=this.hspeed;
                }else{
                    this.h=0;
                }
            }
            black(){
                this.v=0;
            }
            checkIn(x,y){
                if(x<this.x+this.wd && x>this.x && y<this.y+this.ht && y>this.y){
                    return true;
                }else{
                    return false;
                }
            }
            run(){
                if(this.hasBeenTouched==false){
                    this.start();
                }
                this.change();
            }
            display(){
                this.fadeOut();
                fill(this.h,this.s,this.v);
                rect(this.x,this.y,this.wd,this.ht);
            }
        }
        class ParticleSystem{
            constructor(){
                this.particleList=[];
            }
            addParticle(h,s,v,x,y){
                let type=int(random(0,100));
                let startRate=10;
                if(type<startRate){
                    this.particleList.push(new SmallCircleParticle(h,s,v,x,y,random(5,10),random(-1,1),random(-1,1)));
                }else if(type<startRate+1){
                    let d_rect=random(15,30);
                    this.particleList.push(new LargeRectParticle(h,s,v,x,y,d_rect,d_rect,random(-2,2),random(-10,1)));      
                }else if(type<startRate+2){
                    this.particleList.push(new ExplodeCircleParticle(h,s,v,x,y));       
                }else if(type<startRate+3){
                    this.particleList.push(new ExplodeRectParticle(h,s,v,x,y));                 
                }else if(type<startRate+9){
                    let size=random(0,20);
                    this.particleList.push(new SmallWords(h,s,v,x,y,size,random(-5,5),random(-5,5)));
                }else if(type<startRate+11){
                    let size=random(0,20);
                    this.particleList.push(new SmallEmoj(x,y,size,random(-5,5),random(-5,5)));  
                }else if(type<startRate+12){
                    this.particleList.push(new LargeEffect(h,s,v,x,y));                    
                }else if(type<startRate+13){
                    this.particleList.push(new ExplodeParticleSystem(h,s,v,x,y));                    
                }else{
                    let d_rect=random(5,10);
                    this.particleList.push(new SmallRectParticle(h,s,v,x,y,d_rect,d_rect,random(-5,5),random(-20,2)));
                }
            }
            run(){
                for(var i=0;i<this.particleList.length;i++){
                    if(this.particleList[i].isDead()){
                        this.particleList.splice(i,1);
                    }else{
                        this.particleList[i].update();
                        if(frameCount%(60*saveRate)!=0){
                            this.particleList[i].display();
                        }
                    }
                }
            }
        }
        class SmallRectParticle{//å°æ­£æ–¹å½¢ç²’å­
            constructor(h,s,v,x,y,wd,ht,vx,vy){
                this.h=h;
                this.s=s;
                this.v=v;

                this.wd=wd;
                this.ht=ht;


                this.position=createVector(x,y);
                this.velocity=createVector(vx,vy);
                this.acceleration=createVector(0,G);

                this.totalLifeSpan=200;
                this.lifeSpan=this.totalLifeSpan;
            }
            update(){
                this.velocity.add(this.acceleration);
                this.position.add(this.velocity);
                this.lifeSpan-=2;
            }
            display(){
                rectMode(CENTER);
                noStroke();
                fill(this.h,this.s,this.v,map(this.lifeSpan,0,this.totalLifeSpan,0,255));
                rect(this.position.x,this.position.y,this.wd,this.ht);
                rectMode(CORNER);
            }
            isDead(){
                if(this.lifeSpan<0){
                    return(true);
                }else{
                    return(false);
                }
            }
        }
        class SmallWords{//å­—
            constructor(h,s,v,x,y,size,vx,vy){
                this.h=h;
                this.s=0;
                this.v=300;

                this.size=size;

                this.textList=[
                    "å›å®¶å’¯!!",
                    "vez",
                    "love",
                    "u",
                    "2333",
                    "å‰æ–¹é«˜èƒ½",
                    "pull up!!",
                    "å¦ˆè§æ‰“",
                    "å•Š",
                    "awsl",
                    "giegie",
                    "love u!!",
                    "by",
                    "( Â´ï½¥ï½¥)ï¾‰(._.`)",
                    "(ã£ Â°Ğ” Â°;)ã£",
                    "v(â—‹Â´ï½¥Ğ´ï½¥)ï¾‰",
                    "(*/Ï‰ï¼¼*)",
                    "(ï½¡ï½¥âˆ€ï½¥)ï¾‰ï¾å—¨",
                    "(â•¯Â°â–¡Â°ï¼‰â•¯ï¸µ â”»â”â”»",
                    "(ï¾‰*ï½¥Ï‰ï½¥)ï¾‰",
                    "az",
                    "H20",
                    "hhhhh",
                    "è›¤",
                    "è¿™æ²³é‡Œå—",
                    "è¿™æ¨ªæ²³ç‹¸",
                    "*",
                    "|",
                    "a",
                    "aa",
                    "@",
                    "crud",
                    "dada",
                    "x",
                    "233",
                    "çº¢çº¢ç«ç«æææƒšæƒš",
                    "å¦ˆè§è·ª",
                    "çŒ®ä¸Šè†ç›–",
                    "!",
                    "?",
                    "é»‘äººé—®å·",
                    "12315",
                    "3252",
                    "16317",
                    "1314",
                    "å¥½å§",
                    "ç‹—å¤´ä¿å‘½",
                    "å¤§çš„è¯æ¥äº†!",
                    "è“è‰²è¯ä¸¸",
                    "æ°´å†›",
                    "ä¸€é”®ä¸‰è¿",
                    "åŒå‡»å–æ¶ˆç‚¹èµ",
                    "çº¢è‰²è¯ä¸¸",
                    "å•Šè¿™...",
                    "...",
                    "._.",
                    "o_o",
                    "æ»¡åœ°æ‰¾å¤´",
                    "åŒå‡»å–‚æ¥¼ä¸»å–æ°´",
                    "é¼“æŒ.jpg",
                    "EVA",
                    "xp",
                    "furry",
                    "åƒ",
                    "å¯è¿˜è¡Œ",
                    "çœŸç†",
                    "åŸ‚",
                    "æƒŠäº†",
                    "å¥½å®¶ä¼™",
                    "æ’’æ—¥æœ—!!!",
                    "è°¢è°¢å¡å°”!!",
                    "èµ„æœ¬å®¶",
                    "æ— äº†",
                    "æ‘†çƒ‚",
                    "processing!",
                    "PHPæ˜¯æœ€å¥½çš„è¯­è¨€!",
                    "æ²¡æœ‰å¯¹è±¡._.",
                    "éº»äº†..",
                    "ã€‚",
                    "é¢",
                    "OMG",
                    "å“ˆå“ˆå“ˆå“ˆ",
                    "ä¸Šå¤´",
                    "è¥¿",
                    "^",
                    ":)",
                    "^_^",
                    "$",
                    "#",
                    "geometoy",
                    "atm",
                    "yyds!!!",
                    "flag",
                    "è€å¸¦æ–°",
                    "ACI",
                    "æœªé—»ä½œå“å",
                    "1245666",
                    "13#43#4",
                    "å¯¹å¤´",
                    "lllo",
                    "k",
                    "okk",
                    "ok",
                    "å“¦!",
                    "azz",
                    "..",
                    "??",
                    "äººå•Šæ— äº†",
                    "æ²¡äººå—",
                    "äººéƒ½åˆ°å“ªé‡Œå»äº†",
                    "æ—¥å¸¸",
                    "PO",
                    "toj",
                    "å¥½æ€ªå‘¦",
                    "è¿™å¾ˆåœ°ç‹±",
                    "ä½ çš„åæ¬¡",
                    "å‘ä½œ",
                    "å‰æ–¹æ ¸èƒ½",
                    "è¿‡äºç¡¬æ ¸",
                    "ETO",
                    "æ¶ˆç­äººç±»æš´æ”¿,ä¸–ç•Œå±äºä¸‰ä½“!",
                    "å‰è¿›å››!",
                    "å·¦æ»¡èˆµ",
                    "è½°20",
                    "ä¹",
                    "hhh",
                    "ä¿º..",
                    "ç®—äº†",
                    "1",
                    "3.14159265",
                    "def setup()",
                    "hello world",
                    "matrix",
                    "å ä½ç¬¦",
                    "ã€é èº¬ã€‘",
                    "åª’ä½“",
                    "è£…ç½®",
                    "è‰ºæœ¯",
                    "Cäº•",
                    "EMO",
                    "éƒ½ç»™æˆ‘å»è°ˆæ‹çˆ±!!",
                    "ç§ƒäº†,ä¹Ÿå˜å¼ºäº†",      
                    "ä¼˜åŠ¿åœ¨æˆ‘",
                    "50ä¸‡",
                    "12339",
                    "2887",
                    "8848",
                    "AIPC",
                    "å›¾å§è€å“¥",
                    "Rick Roll",
                    "ä½ è¢«éª—äº†",
                    "æœ¬",
                    "æ•´ä¸ªäººéƒ½ä¸å¥½äº†",
                    "å¥½å‹’",
                    "æ–°å®å²›",
                    "KFC",
                    "ç–¯ç‹‚æ˜ŸæœŸå››",
                    "ä¸–ç•Œç»Ÿä¸€äºç‰©è´¨æ€§",
                    "é‡‘å·åƒ",
                    "set4?set4!",
                    "éƒ½æ±Ÿå °",
                    "å¤§è¿æ²³",
                    "åå„¿äº•",
                    "è°¢è°¢ä½ ï¼Œæ³°ç½—",
                    "é©¬å¤«è’‚",
                    "è™«è±¸",
                    "kkv",
                    "railgun",
                    "RTX ON",
                    "RTX OFF",
                    "ç»æ´»",
                    "ç»ç»å­",
                    "orderrrr",
                    "ä¹Œé¸¦åé£æœº",
                    "å¤§è±¡è¸¢è…¿",
                    "é»‘è™æå¿ƒ",
                    "åšé¢œæ— è€»ä¹‹äºº",
                    "åŸç«™ç«™",
                    "å“‡ å…‰å¤´",
                    "mikufans",
                    "fu",
                    "hoho",
                    "å¼å¼å¼",
                    "trans am",
                    "æ— äº†",
                    "GUNDAM",
                    "ç”µè„‘è¯´æˆ‘ä»¬æ­»å®šäº†",
                    "dropping!!",
                    "overspeed",
                    "v1",
                    "rotate",
                    "function",
                    "NERV",
                    "äººç±»è¡¥å®Œè®¡åˆ’",
                    "å™åˆ©äºšæ‚åŒªæŒ‡æŒ¥ä¸­å¿ƒ-6å·æ¥¼811",
                    "new type",
                    "v2",
                    "æˆ˜æ–—åŠ›äº”",
                ]
                this.text=this.textList[int(random(0,this.textList.length))];

                this.position=createVector(x,y);
                this.velocity=createVector(vx,vy);
                this.acceleration=createVector(0,-G*0.1);

                this.totalLifeSpan=200;
                this.lifeSpan=this.totalLifeSpan;
            }
            update(){
                this.velocity.add(this.acceleration);
                this.position.add(this.velocity);
                this.lifeSpan--;
            }
            display(){
                noStroke();
                textSize(this.size);
                fill(this.h,this.s,this.v,map(this.lifeSpan,0,this.totalLifeSpan,0,255));
                text(this.text,this.position.x,this.position.y);
            }
            isDead(){
                if(this.lifeSpan<0){
                    return(true);
                }else{
                    return(false);
                }
            }
        }
        class SmallEmoj{//å­—
            constructor(x,y,size,vx,vy){

                this.size=size;

                this.textList=[
                    "ğŸ˜€",
                    "ğŸ˜",
                    "ğŸ˜‚",
                    "ğŸ¤£",
                    "ğŸ˜ƒ",
                    "ğŸ˜„",
                    "ğŸ˜…",
                    "ğŸ˜†",
                    "ğŸ˜‰",
                    "ğŸ˜Š",
                    "ğŸ˜‹",
                    "ğŸ˜",
                    "ğŸ˜",
                    "ğŸ˜˜",
                    "ğŸ¥°",
                    "ğŸ˜—",
                    "ğŸ˜™",
                    "ğŸ˜š",
                    "ğŸ™‚",
                    "ğŸ¤—",
                    "ğŸ¤©",
                    "ğŸ¤”",
                    "ğŸ¤¨",
                    "ğŸ˜",
                    "ğŸ˜‘",
                    "ğŸ˜¶",
                    "ğŸ™„",
                    "ğŸ˜",
                    "ğŸ˜£",
                    "ğŸ˜¥",
                    "ğŸ˜®",
                    "ğŸ¤",
                    "ğŸ˜¯",
                    "ğŸ˜ª",
                    "ğŸ˜«",
                    "ğŸ¥±",
                    "ğŸ˜´",
                    "ğŸ˜Œ",
                    "ğŸ˜›",
                    "ğŸ˜œ",
                    "ğŸ˜",
                    "ğŸ¤¤",
                    "ğŸ˜’",
                    "ğŸ˜“",
                    "ğŸ˜”",
                    "ğŸ˜•",
                    "ğŸ™ƒ",
                    "ğŸ˜²",
                    "ğŸ˜–",
                    "ğŸ˜",
                    "ğŸ˜Ÿ",
                    "ğŸ¤¯",
                    "ğŸ˜©",
                    "ğŸ˜¨",
                    "ğŸ˜­",
                    "ğŸ¥µ",
                    "ğŸ˜±",
                    "ğŸ˜°",
                    "ğŸ˜³",
                    "ğŸ˜µ",
                    "ğŸ¤ª",
                    "ğŸ¥´",
                    "ğŸ¤’",
                    "ğŸ˜¡",
                    "ğŸ˜‡",
                    "ğŸ¤§",
                    "ğŸ¤­",
                    "ğŸ§",
                    "ğŸ¤“",
                ]
                this.text=this.textList[int(random(0,this.textList.length))];

                this.position=createVector(x,y);
                this.velocity=createVector(vx,vy);

                this.totalLifeSpan=150;
                this.lifeSpan=this.totalLifeSpan;
            }
            update(){
                this.position.add(this.velocity);
                this.lifeSpan--;
            }
            display(){
                noStroke();
                textSize(this.size);
                fill(300,300,300,map(this.lifeSpan,0,this.totalLifeSpan,0,255))
                text(this.text,this.position.x,this.position.y);
            }
            isDead(){
                if(this.lifeSpan<0){
                    return(true);
                }else{
                    return(false);
                }
            }
        }
        class LargeRectParticle{//å¤§æ­£æ–¹å½¢ç²’å­
            constructor(h,s,v,x,y,wd,ht,vx,vy){
                this.h=h;
                this.s=s;
                this.v=v;

                this.wd=wd;
                this.ht=ht;

                this.r=0;

                this.position=createVector(x,y);
                this.velocity=createVector(vx,vy);
                this.acceleration=createVector(0,G);

                this.totalLifeSpan=200;
                this.lifeSpan=this.totalLifeSpan;
            }
            update(){
                this.velocity.add(this.acceleration);
                this.position.add(this.velocity);
                this.lifeSpan--;
                this.r+=0.3;
            }
            display(){
                push();
                    translate(this.position.x,this.position.y);
                    rotate(this.r);
                    rectMode(CENTER);
                    noStroke();
                    fill(this.h,this.s,this.v,map(this.lifeSpan,0,this.totalLifeSpan,0,255));
                    rect(0,0,this.wd,this.ht);
                    rectMode(CORNER);
                pop();
            }
            isDead(){
                if(this.lifeSpan<0){
                    return(true);
                }else{
                    return(false);
                }
            }
        }
        class SmallCircleParticle{//å°åœ†ç²’å­
            constructor(h,s,v,x,y,r,vx,vy){
                this.h=300-h;
                this.s=s;
                this.v=v;

                this.r=r;

                this.position=createVector(x,y);
                this.velocity=createVector(vx,vy);
                this.acceleration=createVector(0,G);

                this.totalLifeSpan=100;
                this.lifeSpan=this.totalLifeSpan;
            }
            update(){
                this.checkBound();
                this.velocity.add(this.acceleration);
                this.position.add(this.velocity);
                this.lifeSpan--;
            }
            checkBound(){
                if(this.position.x<0 || this.position.x>width){
                    if(this.position.x<0){
                        this.position.x=0;
                    }else{
                        this.position.x=width;
                    }
                    this.velocity.x*=-1;
                }if(this.position.y<0 || this.position.y>height){
                    if(this.position.y<0){
                        this.position.y=0;
                    }else{
                        this.position.y=height
                    }
                    this.velocity.y*=-0.75;
                }
            }
            display(){
                noStroke();
                fill(this.h,this.s,this.v,map(this.lifeSpan,0,this.totalLifeSpan,0,255));
                circle(this.position.x,this.position.y,this.r);
            }
            isDead(){
                if(this.lifeSpan<0){
                    return(true);
                }else{
                    return(false);
                }
            }
        }
        class ExplodeCircleParticle{//æ”¾å°„åœ†
            constructor(h,s,v,x,y){
                this.h=h;
                this.s=s;
                this.v=v;

                this.r=0;
                this.rAmount=random(5,20);

                this.position=createVector(x,y);

                this.totalLifeSpan=100;
                this.lifeSpan=this.totalLifeSpan;
            }
            update(){
                this.r+=this.rAmount;
                this.lifeSpan--;
            }
            display(){
                strokeWeight(2);
                noFill();
                stroke(this.h,this.s,300,map(this.lifeSpan,0,this.totalLifeSpan,0,255));
                circle(this.position.x,this.position.y,this.r);
            }
            isDead(){
                if(this.lifeSpan<0){
                    return(true);
                }else{
                    return(false);
                }
            }
        }
        class ExplodeRectParticle{//æ”¾å°„æ–¹
            constructor(h,s,v,x,y){
                this.h=h;
                this.s=s;
                this.v=v;

                this.r=0;
                
                this.rAmount=random(15,30);

                this.rotate=random(0,PI*2);

                this.position=createVector(x,y);

                this.totalLifeSpan=100;
                this.lifeSpan=this.totalLifeSpan;
            }
            update(){
                this.r+=this.rAmount;
                this.lifeSpan--;
                this.rotate+=0.05;
            }
            display(){
                strokeWeight(2);
                noFill();
                push();
                    translate(this.position.x,this.position.y)
                    rotate(this.rotate);
                    rectMode(CENTER);
                    noFill(); 
                    stroke(this.h,this.s,300,map(this.lifeSpan,0,this.totalLifeSpan,0,255));
                    rect(0,0,this.r,this.r);
                    rectMode(CORNER);
                pop();
            }
            isDead(){
                if(this.lifeSpan<0){
                    return(true);
                }else{
                    return(false);
                }
            }
        }
        class LargeEffect{
            constructor(h,s,v,x,y){
                this.h=h;
                this.s=s;
                this.v=v;

                this.r=0;
                
                this.rAmount=random(7,15);
                this.ratationAnount=random(-0.1,0.1);

                this.rotate=random(0,PI*2);

                this.position=createVector(x,y);

                this.totalLifeSpan=50;
                this.lifeSpan=this.totalLifeSpan;
            }
            update(){
                this.r+=this.rAmount;
                this.lifeSpan--;
                this.rotate+=this.ratationAnount;
            }
            display(){
                strokeWeight(2);
                noFill();
                let len=10;
                for(let i=0;i<len;i++){
                    push();
                        translate(this.position.x,this.position.y)
                        rotate(this.rotate+i/10);
                        rectMode(CENTER);
                        noFill(); 
                        stroke(map(i,0,len,this.h,360),this.s,300,map(this.lifeSpan,0,this.totalLifeSpan,0,255));
                        rect(0,0,this.r*i/5,this.r*i/5);
                        rectMode(CORNER);
                    pop();
                }
            }
            isDead(){
                if(this.lifeSpan<0){
                    return(true);
                }else{
                    return(false);
                }
            }
        }
        class CircleNB{
            constructor(h,s,v,x,y,r,vx,vy){
                this.h=300-h;
                this.s=s;
                this.v=v;

                this.r=r;

                this.position=createVector(x,y);
                this.velocity=createVector(vx,vy);

                this.totalLifeSpan=50;
                this.lifeSpan=this.totalLifeSpan;
            }
            update(){
                this.position.add(this.velocity);
                this.lifeSpan--;
            }
            display(){
                noStroke();
                fill(this.h,this.s,this.v,map(this.lifeSpan,0,this.totalLifeSpan,0,255));
                circle(this.position.x,this.position.y,this.r);
            }
            isDead(){
                if(this.lifeSpan<0){
                    return(true);
                }else{
                    return(false);
                }
            }

        }
        class ExplodeParticleSystem{
            constructor(h,s,v,x,y){
                this.h=h;
                this.s=s;
                this.v=v;

                this.ps=[];

                this.position=createVector(x,y);

                this.totalLifeSpan=150;
                this.lifeSpan=this.totalLifeSpan;
            }
            update(){
                if(this.lifeSpan>100){
                    for(let i=0;i<6;i++){
                        this.ps.push(new CircleNB(this.h,this.s,this.v,this.position.x,this.position.y,3,random(-5,5),random(-5,5)));  
                    }
                }
                this.lifeSpan--;
            }
            display(){
                for(var i=0;i<this.ps.length;i++){
                    if(this.ps[i].isDead()){
                        this.ps.splice(i,1);
                    }else{
                        this.ps[i].update();
                        if(frameCount%(60*saveRate)!=0){
                            this.ps[i].display();
                        }
                    }
                }
            }
            isDead(){
                if(this.lifeSpan<0){
                    return(true);
                }else{
                    return(false);
                }
            }
        }
        function setup() {
            createCanvas(windowWidth,windowHeight);
            colorMode(HSB,300);
            noStroke();
            smooth();
            //åˆå§‹åŒ–ç²’å­ç³»ç»Ÿ
            particleSystem=new ParticleSystem;
            //ç”Ÿæˆé¢œè‰²æ•°ç»„
            w_count=displayWidth/w_pixel;
            h_count=displayHeight/h_pixel;
            for(let i=0;i<h_count;i++){
                let tempSet=[];
                let y=i*h_pixel;
                for(let j=0;j<w_count;j++){
                    let x=j*w_pixel;
                    colorSet.push(new VColor(220,300,0,x,y,w_pixel,h_pixel));
                }
            }
        }
        function windowResized(){
            resizeCanvas(windowWidth,windowHeight);
        }
        function draw(){
            background(0);
            noStroke();
            for(let i=0;i<colorSet.length;i++){
                let currentColor=colorSet[i];
                //éå†æ‰€æœ‰è§¦æ‘¸ç‚¹,ä¿®æ”¹é¢œè‰²
                for(let j=0;j<touches.length;j++){
                    let currentTouch=touches[j];
                    if(currentColor.checkIn(currentTouch.x,currentTouch.y)){
                        currentColor.run();
                        for(let i=0;i<particleCount;i++){
                            particleSystem.addParticle(currentColor.h,currentColor.s,300,currentTouch.x,currentTouch.y);
                        }
                    }
                }
                //åœ¨é¼ æ ‡ç‚¹å‡»æ—¶ä¹Ÿæœ‰ååº”
                if(mouseIsPressed){
                    if(currentColor.checkIn(mouseX,mouseY)){
                        //å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡,å…ˆæ‰§è¡Œvç™½åŒ–
                        currentColor.run();
                        for(let i=0;i<particleCount;i++){
                            particleSystem.addParticle(currentColor.h,currentColor.s,300,mouseX,mouseY);
                        }
                    }
                }
                currentColor.display();
            }
            //å‚¨å­˜å›¾ç‰‡
            if(saveMode==1){
                if(frameCount%(60*saveRate)==0){
                    img1Count++;
                    save("paintLinkerM"+img1Count+".png");
                }
            }
            //ç²’å­ç³»ç»Ÿ
            particleSystem.run();
            //å®šæ—¶æ”¹å˜ç²’å­æ•°é‡[10s]
            if(frameCount%60==0){
                particleCount=int(random(particleCountMin,particleCountMax));
            }
        }
        function mousePressed(){
            fullscreen(true);
        }
    </script>
</head>
<body oncontextmenu="doNothing()">
    
</body>
</html>